<!DOCTYPE HTML>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Super Zapatos</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script src="js/index.js"></script>
    

</head>

<body>

<script type="text/javascript">




    $(function(){
        
        console.log('Running BTOA');

        $.ajax({

            type: "GET",
            dataType: "json",
            url: "https://superzapatos1.herokuapp.com/services/stores",
            beforeSend: function (xhr) {
                xhr.setRequestHeader('Authorization', 'Basic ' +  btoa('user', 'password') );
            },
            success: function(data){
                $('.result').html(data);
                alert("got data");
            }
        }); 
   
    });

     $(function(){

         console.log('Running Normal');

         $.ajax({
             type: "GET",
             url: "https://superzapatos1.herokuapp.com/services/stores",
             data: {name: "user", password: "password"},

             contentType: "application/json; charset=utf-8",
             dataType: "xml",
             success: function(data){
                $('.result').html(data);
                alert("got data");
             }
          
         });
    });


    $(function() {
        function addTask(task) {
          $('#tasks').append('<li>' + task.name + "   Descripcion:" + task.address +'</ul>');
        }

        $('#new_task').submit(function(e) {
          console.log($(this).serialize());
          $.post('/services/stores', $(this).serialize(), addTask);
          this.reset();
          e.preventDefault();
        });

        $.getJSON('/services/stores', function(tasks) {
          $.each(tasks, function() { addTask(this); });
        });
      });

</script>
    

    <div id="container">
      
      <h1>Create Store</h1>

      <form id="new_task">
        <input type="integer" name="store[id]" hidden>
        <input type="text" name="store[name]" id="store_name">
        <input type="text" name="store[address]" id="store_address">
        <input type="submit" value="Add">
      </form>


      <ul id="tasks"></ul>
    </div>


    

    


</body>


</html>